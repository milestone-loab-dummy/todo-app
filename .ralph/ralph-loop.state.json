{
  "active": true,
  "iteration": 1,
  "minIterations": 1,
  "maxIterations": 30,
  "completionPromise": "COMPLETE",
  "tasksMode": true,
  "taskPromise": "READY_FOR_NEXT_TASK",
  "prompt": "Implement Sprint 1 for the Todo App project located at projects/todo-app/.\n\n## Sprint Goal\nA user can add, list, complete, edit, and delete todos through a running UI connected to a real backend with a persistent database.\n\n## Stack\n- Backend: Go + Gin + GORM + SQLite (file: todos.db)\n- Frontend: React + TypeScript + Vite (port 3000)\n- Backend port: 8080\n\n## Project Structure to Create\n```\nprojects/todo-app/\n  backend/          # Go backend\n  frontend/         # React + TS frontend\n```\n\n---\n\n## US-01 — Go Backend Scaffold (2 SP)\n\n### Acceptance Criteria\n- Given the repo is cloned, when `go run ./...` is executed from `backend/`, then the server starts on port 8080\n- Given the server is running, when `GET /health` is called, then it returns `200 OK` with `{\"status\":\"ok\"}`\n- Given first run, when the server starts, then `todos.db` is auto-created via GORM auto-migrate\n- Given any request, when it completes, then method, path, status code, and latency are logged to stdout\n\n---\n\n## US-02 — React + TypeScript Frontend Scaffold (1 SP)\n\n### Acceptance Criteria\n- Given the repo is cloned, when `npm install && npm run dev` is executed from `frontend/`, then the dev server starts on http://localhost:3000\n- Given the dev server is running, when the browser opens the URL, then the Todo App title is visible\n- Given `npm run build` is executed, then the build completes without TypeScript errors\n\n---\n\n## US-03 — Create a Todo (3 SP)\n\n### Acceptance Criteria\n- Given I type text and press Enter, when the input is non-empty, then the todo appears in the list\n- Given I type text and press Enter, when the input is empty, then nothing happens (no empty todos)\n- Given the todo is created, when the list reloads, then the new todo persists (stored in DB)\n- Given the todo is created, then `POST /todos` returns `201 Created` with the new todo object\n- Given the todo is created, when the backend confirms, then the input field clears\n\n---\n\n## US-04 — List All Todos (2 SP)\n\n### Acceptance Criteria\n- Given the app loads, when `GET /todos` is called, then all stored todos are returned in an array\n- Given the list is empty, when the app loads, then an empty state message is shown\n- Given todos exist, when the app loads, then each todo shows its title and completion status\n- Given the app loads, when fetching is in progress, then a loading indicator is shown\n\n---\n\n## US-05 — Complete / Uncomplete a Todo (2 SP)\n\n### Acceptance Criteria\n- Given a todo is active, when I click the checkbox, then it is marked completed (strikethrough style)\n- Given a todo is completed, when I click the checkbox, then it is unmarked (toggled back)\n- Given the toggle, when the backend confirms, then the state persists across page reloads\n- Given `PUT /todos/:id` is called, when the ID doesn't exist, then 404 is returned\n\n---\n\n## US-06 — Edit a Todo Title (3 SP)\n\n### Acceptance Criteria\n- Given a todo, when I double-click its title, then it becomes an editable input field\n- Given I'm editing, when I press Enter or click away, then the new title is saved\n- Given I'm editing, when I press Escape, then the edit is cancelled and original title restored\n- Given I save with an empty title, then the edit is cancelled (no empty todos)\n- Given the save, when the backend confirms, then the new title persists\n\n---\n\n## US-07 — Delete a Todo (2 SP)\n\n### Acceptance Criteria\n- Given a todo, when I click the delete button, then the todo is removed from the list immediately\n- Given the deletion, when the backend confirms, then the todo is gone from the DB\n- Given `DELETE /todos/:id`, when the ID doesn't exist, then 404 is returned\n- Given the delete button, it is only visible on hover (not always cluttering the UI)\n\n---\n\n## US-08 — Filter Todos by Status (2 SP)\n\n### Acceptance Criteria\n- Given the footer filter, when I click \"Active\", then only incomplete todos are shown\n- Given the footer filter, when I click \"Completed\", then only completed todos are shown\n- Given the footer filter, when I click \"All\", then all todos are shown\n- Given a filter is active, then the selected filter is visually highlighted\n\n---\n\n## US-11 — Loading & Error States (3 SP)\n\n### Acceptance Criteria\n- Given the app loads, when fetching todos, then a skeleton loader is shown\n- Given a network error, when any API call fails, then a toast notification appears\n- Given the toast, it auto-dismisses after 4 seconds\n- Given a pending mutation, when the request is in-flight, then the action button is disabled\n\n---\n\n## API Contract\n\n### Todo object\n```json\n{\n  \"id\": 1,\n  \"title\": \"Buy milk\",\n  \"completed\": false,\n  \"created_at\": \"2026-02-27T10:00:00Z\",\n  \"updated_at\": \"2026-02-27T10:00:00Z\"\n}\n```\n\n### Endpoints\n- `GET    /health`          → 200 `{\"status\":\"ok\"}`\n- `GET    /todos`           → 200 `[...todos]`\n- `POST   /todos`           → 201 `{...todo}` body: `{\"title\":\"string\"}`\n- `PUT    /todos/:id`       → 200 `{...todo}` body: `{\"title\":\"string\",\"completed\":bool}`\n- `DELETE /todos/:id`       → 204 No Content\n\n### CORS\nBackend must allow requests from `http://localhost:3000`.\n\n---\n\n## Technical Requirements\n\n### Backend (projects/todo-app/backend/)\n- Go module: `todo-app/backend`\n- Use `github.com/gin-gonic/gin` for HTTP routing\n- Use `gorm.io/gorm` + `gorm.io/driver/sqlite` for persistence\n- SQLite DB file: `todos.db` (auto-created on first run)\n- Gin middleware for request logging (method, path, status, latency)\n- Environment variable `PORT` (default 8080)\n\n### Frontend (projects/todo-app/frontend/)\n- Scaffold with Vite: `npm create vite@latest frontend -- --template react-ts`\n- Use `fetch` API (no external HTTP client needed)\n- API base URL from env var `VITE_API_URL` (default `http://localhost:8080`)\n- No `any` TypeScript types without justification\n- All interactions call the real backend API\n\n### Definition of Done (Project-wide)\n- Code compiles with no errors (`go build ./...`, `npm run build`)\n- All acceptance criteria implemented\n- No TypeScript `any` types without explicit justification\n- Go code passes `go vet ./...`\n- API returns correct HTTP status codes for all scenarios\n- No hardcoded URLs — all config via environment variables\n\n---\n\n## Rules\n- Work inside `projects/todo-app/` directory\n- Run `go build ./...` and `go vet ./...` after every backend change\n- Run `npm run build` after every frontend change — fix ALL TypeScript errors before continuing\n- Implement ALL 9 stories before declaring done\n- Never use `any` TypeScript types\n\nWhen ALL stories are implemented, the backend builds cleanly, and the frontend builds without TypeScript errors, output exactly:\nCOMPLETE",
  "startedAt": "2026-02-27T02:46:51.705Z",
  "model": "",
  "agent": "opencode"
}